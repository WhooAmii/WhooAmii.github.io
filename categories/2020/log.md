简单的2020年总结
心情复杂的一年，这一年彷佛又经历了从学校出来一样巨大的环境转变.
简单的以一个单纯的日记方式来记录我的2020年，不一样的21岁
1月
新的一年开始的时候，我卑微的放下了v8的源码阅读，为期4个月的浏览器计划被搁置，看了很多遍的代码，看了很多文章，以为自己似乎对这个位置懂了懂了，但是一到挖洞，似乎就会遇到很多捉襟见肘的位置，总是面临这样一个场景，如果能够实现这个布置，进入这个if流程，节点怎样怎样会不会造成漏洞，但是最后发现自己根本写不出来对应的样本。似乎fuzz是个很好的选择，但是看着2019在他的fuzz里疯狂commit又觉得自己好像基础有点弱。最后决定换个方向吧.
在年初的时候因为完成了一个简单的iot项目，获得了很多自由学习的时间，浏览器似乎没办法短时间出成果，碰巧之前有复现了2019强网杯的qemu题目，学会了简单的mmio交互方法，天真的觉得我会了，那就开始看qemu吧,没人带盲目挖洞的日子真的是回想起来很傻hhhh，当时按着之前的入口模型，开始全局搜索ops关键字来找对应的回调，其实连qemu的源码框架都还没有仔细观察就开始瞎挖洞了，那是一段天天大惊小怪的日子，“这里绝对是个漏洞”，每天都在这么想着，然后就是各种”怎么在这里校验了””怎么触发不了断点””这个破设备怎么添加进去””怎么还要不同架构的环境，这有危害么”，最后发现自己折腾了个寂寞，简单的混了两个不痛不痒的cve编号后就到了春节的日子.
放假的那天印象极为深刻，各种疫情消息在传播，但第二天就要出发回家，还没有口罩半夜三点还在搜饿了么能不能有外卖hhhh。还是勇敢的回到了家里，受疫情的影响，竟然在家里呆了近一个月的时间，这段时间每天都在关注着国内数字的变化，彷佛自己还变成了一个抱怨各种不公的愤青，每天和别人讨论各种社会现象。
2月
2月开始了但是开始了远程办公的生活，实话实说对我个人来说并没有很高的效率，甚至让我想起来在我大学时间的焦虑复习法，每天玩很久然后面对自己的颓废开始学习。虽然偶有进展，但实际上我的2月在工作上算是荒废了。但很开心很难有这么多的时间陪着家里人，虽然自己一直是个很叛逆的角色，但这一个月真是彻底的放松在了和家里人的平静生活中，父母也没有吵架，或许是年龄大了吧，想到这里总是觉得自己陪父母的时间还是太少了。
在这样的居家生活中家里还多了一个新成员，从小到大家里第一次养宠物，是一只比熊犬，刚来家里只有三个月大，小小的一只。
全家都很开心，就连对外面一向严肃的父亲也放下了包袱，它成了我们家的小公主，之后每天家里都是这样的场景，”你怎么能给他喂这个肉，这个有盐”，”喂一下没事”，hhh狗子很馋，每天我们吃饭就会凑在桌子边上一直看着你吃，看到你心软喂它，每天还一直想进我的屋子玩。很晚了它也不睡我出去上个厕所都要追我半天.应该早养一只的。
3月
快乐的2月结束了，我回到了北京，开始居家的14天隔离。
隔离的日子因为没人叫吃饭，过上了彻底混乱的生活，醒了不知道是几点，反正吃了饭不会饿.这段时间总是对自己说，上班了再努力上班了在努力，堕落了一段时间。这段时间自己还在想要不要去考研，无产出的日子太痛苦了,回去上班后，公司还换了办公地点，本来走路五分钟还能午休的日子再也回不来了，我每天早上打车，晚上坐公交，疯狂的浪费通勤时间.同时压力无处不在，压力特别大的时候就去背单词，想要告诉自己，你起码有学到东西.
工作依旧是挖着qemu的漏洞.似乎到了三月底自己有了很大的进步.
4月
4月简直是我的一个幸运月，这个幸运是我的工作终于有了一些进展，在盲目的挖洞和分析别人漏洞很久后，我挖到了一个qemu默认配置的usb漏洞，利用环境实在完美，简单的两三天就写出来了一个exp造成了逃逸，非常兴奋的对leader进行了汇报，商量着要用它来打今年的天府杯或者强网杯.这个漏洞就简单的先放了下来。之后陆陆续续又产出了一些qemu的漏洞，6，7个的样子，但实际上可能有用的只有23个，大部分只不过是混了个编号而已。
全部都报给了red hat.在四月中旬的时候突然挖到了一个virtualbox的漏洞，在oracle补丁更新的前一天提交，第二天就获得了cve编号还给了一个很高的cvss评分和oracle的致谢。令人兴奋的四月就要结束了.在挖了一串之后的我稍稍松懈，手上拿着一个漏洞就在等半年后的比赛.
5月
当完成逃逸后就不是很想继续挖qemu的漏洞了，觉得该换个目标再来，这个时候我开始继续看virtualbox的代码，突然觉得和qemu的代码很像，交互方式，容易存在漏洞的位置。甚至于一个很乌龙的事情，我使用之前qemu usb上的那个exp在virtualbox环境下执行了一下，突然crash了。真是一个意外收获，我大致看了下virtualbox的代码，发现和qemu并不是同一个漏洞点，那就只好上调试器了，在简单的跟踪后，找到了一个非常离谱的变量未初始化漏洞，直接就可以任意地址跳转.似乎我今年的目标已经实现了，我只需要再找到一个信息泄露就可以在比赛上双杀虚拟化项目。但也仅限于想想了.当我向leader汇报时，leader告诉我可能和另一位同事撞洞了，我拿着细节和他讨论发现，果然撞了。这甚至不是最惨的，同事告诉我他一直怀疑在上个月的pwn2own上使用的就是这个漏洞，类型是一样的，然后我就开始忐忑.等到一段时间pwn2own上的那个人公开博客，我们发现果然是撞了已经在最新版代码中修复了。
但问题不大，我看了他的博客，发现了他使用的信息泄露漏洞位置。真是太巧了，我之前一直觉得这里不可能会有洞，毕竟这么多人看过的代码，但是竟然真的有，那我也要去看一下。
就像打开任督二脉一样，一周时间在e1000设备代码中我找到了3个漏洞，非常的难以发现，但是还是存在的，我将他们报给了zdi，拿了8000刀左右，这让我有了小小的安慰，被撞了也没事起码因祸得福了，之后的另一周我用着另一个漏洞模型在存储和拖放中又挖到了3个漏洞。（挖的不够仔细，之后长亭的师傅在存储中又有了很多产出，但我没有看到）全部报给了oracle.
6月

似乎我的另一个小目标也完成了，我问自己该做点什么呢，
。不想一只看相同的代码和攻击面，我想要进步，而且很贪心，我想要学不一样的东西，找没人找到的攻击面。我开始去给自己一个挑战去挖vmware，和之前的漏洞模型是一样的,打开ida发现没有符号，于是开始恢复一些常用的函数。通过字符串定位和逆向调试，将之前的攻击面相关代码都恢复了部分。但是并没有挖到漏洞，这之中对我很难得点在于，我不知道某个全局变量的意思，导致很多代码我并不能触发。在挖洞过程中看到很多修补的痕迹让我感到失望，毕竟是大家都知道的攻击面，毕竟大家都想要挖出vmware漏洞证明自己.太卷了，而且似乎学不到新的内容。在这段时间很巧看到了zdi发布的文章，他们收到了很多paralles desktop的漏洞，并表示很欢迎大家向他们提交这个软件漏洞。我一下觉得这是个很好的目标，大不了用之前的攻击面再来重新看看这个软件实现的怎么样，而且看博客文章，这个软件从没人挖过漏洞，发出来的poc也很简单。那就是他了.
我打开很久不用的macbook，安装了paralles desktop.在对苹果系统一头雾水的时候我甚至在寻找二进制文件和开启sip调试的时候花了很长时间。
好了这个二进制文件和vmware也差不多，20mb大小，ida启动，出发！
信心满满的打开后我傻了，一样的没有符号，甚至是用qt框架来写的，一头雾水的我打开了符号表，那我先找到之前io和mmio交互的地方好了，啊哦，为什么找不到.
原来是用共享内存与回调做的，并不能找到入口交互的位置。
那算了用我之前的poc直接定位到处理数据的地方吧。我用了之前e1000的驱动代码成功定位到了pd的处理位置，虽然我看栈回溯也找不到代码路径，但是起码是可以挖洞了。但是我发现我不是很能理解他在做什么，直接将数据包装了起来调用了另一个奇怪的函数。经过另一段时间的考证发现，他把数据送进了内核扩展中。一波三折，我找了半天对应的kext二进制文件位置打开ida。哦吼，你敢把这种代码放进内核还不好好写.最后找到了一个堆上的任意越界写。
麻饭的事情来了，我自以为poc写的很好，为什么不crash，该怎么才能证明真的是漏洞呢。上调试器把。内核调试？Macos？不会啊。。又是好几天开始搭环境，vmware里装了个黑苹果，用gdb勉强开始了调试，又发现不对劲啊，内核空间怎么看不见kext的内存位置，没有符号怎么下断点。后续又。。。。。操作半天。最后成功修改poc修改了堆上下一个堆快的header，crash了.
从虚拟机内部直接打到了苹果的内核里造成了系统crash.上报了我的第一个pd漏洞获得了3000刀的奖励。
7月-8月
我要松口气了，原来的漏洞模型没意思了，我要去找找不一样的。虚拟化还剩最麻烦的hyper-v我没有试过，试一下把，毕竟一个dos都给15000刀以上.
原来的攻击面全部不一样了，hyper-v有自己的通信方式，在这中间我挑了之前很容易出洞的一些位置进行了挖洞。Vmswich没错说的就是你。最多漏洞产出和功能很多的程序。然后就是一段时间rndis是啥，这个message是什么，这个函数又是什么，它是咋发包的，这咋还能处理这种请求,找到一个位置以为有漏洞，惊奇的发现之前几个月刚有人在这个函数里报了一个dos拿到了3w刀，感觉修补的不行啊，我要试一试，我直接在windbg里改了一下数据（懒得编内核），哇哦蓝屏了那稳了，悲剧很快发生，在内核终于编好测试poc发现怎么触发不了，在通信位置被校验了，之后又是其他位置乱七八糟一顿翻阅，得出结论贵是有贵的道理的，这个供给面我应该是来晚了。这是摸鱼严重的两个月，但是很快乐hhh
9月
我总是想在新的软件中找到漏洞，就像是解锁成就一样。9月的我重新回去看了pd，感觉hyper-v攻击面有点难找。Pd还有很多东西我不明白我要回去看一看。
虚拟机也是客户端服务器模型，我服务器逆不明白，去找他的客户端看看，我打开虚拟机，开始找他的内部驱动，果然是找到了.把它发送的request全部log了出来，在之后在github上竟然发现了客户端的源码，这可真是太方便了
对应request的特征和字符串信息我定位到了对应的处理中。
惊喜
这么多处理函数，没人挖过，之前从没有这块的漏洞信息，那开始把
9月的末尾一周3个漏洞.这给我带来了10000刀左右的收入
10月
继续旅程吧。身边关系很好的同事要回家工作了，突然少了说话的人。有些茫然，呆着好无聊啊，像是一个个人工作者一样，身边怎么其他人工资比我高这么多，我觉得我也不差啊。
埋下伏笔了把
这个月继续在挖pd，简简单单，每天摸鱼，但因为攻击面没人发现的原因，这个月我挖到了8个漏洞。任意地址写，泄露，越界，甚至直接读写主机文件。除了特别复杂的处理我感觉只能靠fuzz外，已经没有东西了。全部上报又拿了10000多刀的收入.
还剩下了一个准备天府杯。
这段时间我的qemu漏洞被360的师傅公开了，是他去年天府杯使用的漏洞，我混了个编号，甚至有蹭洞的嫌疑，郁闷还发了邮件给师傅解释我之前也挖到了这个，只是撞了，不是蹭2333.除了这些乱七八糟的cve，到头来天府杯破解赛还是无缘参加。
11月
去参加了天府杯，见了很多大佬们的操作，羡慕。
打了原创赛拿了5500刀.
和同事间的关系变得日益良好，可是同事回到西安工作了。本来大家一起吃吃喝喝的日常被改变了。
我就像个蝴蝶迷失在花丛一样，我在各种研究目标中徘徊，先是macos的内核，imageio等等，跟着p0的文章代码开始看，之后觉得被太多人看过换！再看linux网络部分代码，应该是漏洞崩溃不了啊，留着，换！再看windows hyper-v的-1层和kvm对照这看，学会了很多，kvm看的还行，-1层没符号太难看了，这洞一定不是很浅的那种，算了学习一下之后看，换！
Windows！冲
一个月颗粒无收呢，但感觉自己学到了很多知识，不亏好吧，才一个月
这个时间收到了蚂蚁的面试，想要我跳槽过去，原因竟然是天府杯的漏洞演示。
当时还因为规则和蚂蚁的人吵了一架hhhh，这竟然还给我机会，好奇的我想知道外面会给我多少待遇接受了面试
12月
挖了windows更多一点。
这个期间挖到了一些漏洞，但微软都当作了bug处理，我挖的简单了，这中简单的触发方式早就不行了，rpc一直想去做但又觉得360做了那么久了，似乎没有必要看了。中间接触到了很多新的攻击面。都是值得研究很久的东西，但是突然生活轨迹改变了。
在拿到蚂蚁offer之后，就开始了纠结，11月-12月太划水了一直没有产出，成长太慢了
蚂蚁给了我很好的待遇我要不要过去呢。反正一样是挖洞，走出舒适圈把，但是现在的leader实在是很好，同事关系舍不得，纠结的我在纠结中和女朋友还吵了一架，还以为分手了，拉着同事去三亚散了个心。很愉快的旅行hhh，希望还有机会，最后决定还是去蚂蚁看一看外面的世界，现在的实验室就像家一样，我可以拿着之前的功劳簿安心的呆在舒适圈中，快乐但是我动了心后就不可收拾。之后左右浪费了好久时间没有挖洞，2020最后一天就在三亚结束了




是个值得铭记的一年，如何感觉自己的进步，看一年前的自己像个sb就是进步了吧
其实还有很多的事件，上面纯粹是工作的日记，情感方面还是那么稳健就不写了。中间参加了一些ctf，但是现在已经很少再打了。最近一次好像都是强网杯那次了，通宵干出了一道realworld印象深刻。拖到现在都忘了wp怎么写了hhhhh。
趁着要工作交接简单的记录一下。
